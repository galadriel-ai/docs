---
title: Twitter Agent Example Tutorial
---

## Twitter Agent Example Tutorial

This step-by-step guide will help you build a Twitter agent that autonomously posts tweets at regular intervals using the Galadriel framework. By the end of this tutorial, you’ll have a working agent that can generate tweets driven by an LLM and post them through the Twitter API.

## Prerequisites

Before you begin, ensure you have the following:

- Python 3.10 or higher
- Galadriel library installed
- Twitter API access with consumer keys and access tokens
- An OpenAI API key for generating LLM-based content

## Step 1: Set Up Your Environment

### Install the Galadriel Package

First, set up your virtual environment and install the Galadriel package:

```bash
python3 -m venv venv
source venv/bin/activate
pip install galadriel
```

### Create a `.env` File

Create a `.env` file in your project’s root directory and add your API keys:

```ini
OPENAI_API_KEY=<your_openai_key>

# Twitter API credentials
TWITTER_CONSUMER_API_KEY=<your_consumer_api_key>
TWITTER_CONSUMER_API_SECRET=<your_consumer_api_secret>
TWITTER_ACCESS_TOKEN=<your_access_token>
TWITTER_ACCESS_TOKEN_SECRET=<your_access_token_secret>

# Optional: Set DRY_RUN to skip actual posting
DRY_RUN=true
```

## Step 2: Write the Agent Code

Create a file named `agent.py` and add the following code:

```python
import asyncio
import os
from pathlib import Path
from dotenv import load_dotenv

from galadriel import CodeAgent, AgentRuntime
from galadriel.clients import Cron
from galadriel.clients.twitter_post_client import TwitterPostClient
from galadriel.core_agent import LiteLLMModel

load_dotenv(dotenv_path=Path(".") / ".env", override=True)
llm_model = LiteLLMModel(model_id="gpt-4o", api_key=os.getenv("OPENAI_API_KEY"))

POST_INTERVAL_SECONDS = 3 * 60 * 60  # Post every 3 hours

AGENT_PROMPT = """
You are a humorous Twitter user. Generate a short tweet (1-2 sentences). About any topic.
"""

agent = CodeAgent(
    prompt_template=AGENT_PROMPT,
    model=llm_model,
    tools=[],
)

runtime = AgentRuntime(
    agent=agent,
    inputs=[Cron(POST_INTERVAL_SECONDS)],
    outputs=[TwitterPostClient()],
)

asyncio.run(runtime.run())
```

### Breakdown:

- **LiteLLMModel**: Initializes the language model using OpenAI’s API key.
- **Cron Client**: Triggers the agent to post every 3 hours.
- **TwitterPostClient**: Posts the generated tweets on Twitter.
- **AgentRuntime**: Orchestrates all components, connecting clients and running the agent continuously.

## Step 3: Running Your Twitter Agent

Once you have written your agent script, run the script using the following command:

```bash
python agent.py
```

The agent will start and post tweets at the set intervals. If `DRY_RUN` is set in your `.env` file, the content will be printed to the console instead of being posted.

## Additional Considerations

- Ensure that the API keys are correctly set in the `.env` file to avoid authentication errors.
- Test the agent with `DRY_RUN` enabled to ensure the content is being generated as expected before posting live.

## Conclusion

You now have a fully functioning Twitter agent using the Galadriel framework! This tutorial walked you through creating an autonomous agent capable of generating and posting tweets at regular intervals. Explore further by customizing the prompt or integrating additional functionalities and tools.

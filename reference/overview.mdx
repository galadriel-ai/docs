This page describes the details of the Solidity interface to the oracle, and how to use it in your contract. We assume you are familiar with the [high-level architecture of Galadriel](/how-it-works).

## Oracle interface

The oracle is exposed as a contract that you can call from your own contract. It exposes two types of functionality: calling **LLMs** and calling **external tools**.

Any time you make a call to the oracle, you need to do at least two things:

1. Call a method on the oracle contract to create a new call (to a model or a tool).
2. Implement a callback method on your contract that the oracle will call once the response is available.

In each page of this reference you'll see the method you need to call and the corresponding callback method you need to implement.

See source code for all the methods in the [`ChatOracle` contract](https://github.com/galadriel-ai/contracts/blob/main/contracts/contracts/ChatOracle.sol).

See the [Usage examples](#usage) below on how to integrate depending on your use case.


## Usage examples

### Calling an LLM

For calling an LLM, one option is to use the basic [createLlmCall](/reference/llms/basic) method, which has a simple interface but little configurability. The other option is to use the more complex but more powerful [createOpenAiLlmCall](/reference/llms/openai) method -- to make a call to OpenAI-provided LLMs -- or the [createGroqLlmCall](/reference/llms/groq) method -- to make a call to Groq-provided LLMs.


Using the [createLlmCall](/reference/llms/basic) example: to call an LLM you need to:

<Steps>
    <Step>
    Call the [createLlmCall](/reference/llms/basic#createllmcall) method on the oracle contract. This will create a new LLM call.
    </Step>
    <Step>
    Implement two methods into your contract that the oracle will call to get the message history necessary for the LLM, including the system prompt: [getMessageHistoryContents and getMessageHistoryRoles](/reference/llms/message-history).
    </Step>
    <Step>
    Implement the [onOracleLlmResponse](/reference/llms/basic#onoraclellmresponse) method into your contract. This method will be called when the LLM result is available (in a separate transaction potentially tens of seconds later).
    </Step>
</Steps>

Using the other two methods is analogous, but you need to use the corresponding callback method:

* `createLlmCall` -> implement callback `onOracleLlmResponse` - see [Basic LLM usage](/reference/llms/basic)
* `createOpenAiLlmCall` -> implement callback `onOracleOpenAiLlmResponse` - see [OpenAI](/reference/llms/openai)
* `createGroqLlmCall` -> implement callback `onOracleGroqLlmResponse` - see [Groq](/reference/llms/groq)

### Calling an external tool

If you are calling an external tool, you need to:

<Steps>
    <Step>
    Call the [createFunctionCall](/reference/tools#createfunctioncall) method on the oracle contract. This will create a new tool call.
    </Step>
    <Step>
    Implement the [onOracleFunctionResponse](/reference/tools#onoraclefunctionresponse) method into your contract. This method will be called when the tool result is available (in a separate transaction potentially tens of seconds later).

    Since method calls do not reference a message history, you don't need to implement any history getter methods.
    </Step>
</Steps>

### Examples

Please refer to the [example contracts](https://github.com/galadriel-ai/contracts/tree/main/contracts/contracts), corresponding to the outlined [use cases](/use-cases), for complete usage examples.
